/////////////////////////////////////////////////////////////////////////////
//	幕間 (aida.cpp)
//	Author : TAKUMI UENO
////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------
//	インクルードファイル
//--------------------------------------------------------------------------
#include "main.h"
#include "aida.h"
#include "player.h"
#include <math.h>

//--------------------------------------------------------------------------
// 構造体定義
//--------------------------------------------------------------------------
AIDA aida;

////////////////////////////////////////////////////////////////////////////
// 変数名	: initAida
// 返り値	:
// 説明		: 変数初期化
////////////////////////////////////////////////////////////////////////////
void initAida ( void )
{
	aida.posX = 0;
	aida.posY = 0;
}

////////////////////////////////////////////////////////////////////////////
// 変数名	: updataAida
// 返り値	: 
// 説明		: ロケットが出ていく様子を描いた壮絶な変数
////////////////////////////////////////////////////////////////////////////
void updataAida ( int len )
{
	//変数宣言
	double lastRad;

	PLAYER *player;
	player = getPlayer();

	//θ計算
	lastRad = ( player->lastDeg * PI ) / 180;

	aida.posX = ( (len * cos( lastRad )) * 2 ) + player->lastX[21];
	aida.posY = len * sin( lastRad ) + 1 + player->lastY[21];

	if(aida.posX > 80 )
	{
		aida.posX = 79;
	}
	if( aida.posY < 1 )
	{
		aida.posY = 1;
	}

}

/////////////////////////////////////////////////////////////////////////
// 変数名	: drawAida
// 返り値	: 
// 説明		: ロケットが出ていく様子を描いた壮絶な変数
////////////////////////////////////////////////////////////////////////////
void drawAida ( void )
{
	//-------------------------------
	// ロケット描写
	//-------------------------------
	COLOR(WHITE, WHITE);
	LOCATE(aida.posX, aida.posY);
	printf("■");
}